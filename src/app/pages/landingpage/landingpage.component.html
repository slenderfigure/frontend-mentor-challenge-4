<div class="landingpage"
  [class.dark-theme]="darkModeActive">
  <div class="wrapper">
    <form [formGroup]="searchForm"
      (ngSubmit)="onSearch()" 
      class="landingpage__search-form">
      <div role="searchbox"
        tabindex="0" 
        class="form-control">
        <button type="submit"
          aria-label="Search Button" 
          class="search-button">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px">
            <path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        </button>

        <input formControlName="searchKeyword" 
          type="text" 
          placeholder="Search for a country..."
          class="search-input">
      </div>

      <flag-region-filter-menu
        [darkModeActive]="darkModeActive"
        [selectedOption]="defaultSrchQuery.region ? defaultSrchQuery.region : ''"
        (filterChanged)="updateFilter($event)">
      </flag-region-filter-menu>
    </form>

    <section *ngIf="!fetchingData && countries.length; else dataFetchIndicator"
      role="list" 
      class="landingpage__countries">
      <flag-country-card *ngFor="let country of countries;"
        [darkModeActive]="darkModeActive"
        [country]="country"> 
      </flag-country-card>
    </section>
  </div>
</div>

<ng-template #dataFetchIndicator>
  <ul *ngIf="fetchingData" 
    class="landingpage__countries-skeleton" 
    [class.dark-theme]="darkModeActive"
    role="progressbar">
    <li *ngFor="let card of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];"
      class="skeleton-card">
      <div class="top"></div>

      <div class="body">
        <p class="bar bar-l"></p>
        <p class="bar bar-s"></p>
        <p class="bar bar-s"></p>
      </div>
    </li>
  </ul>

  <div *ngIf="!countries.length"
    class="landingpage__no-search-results">
    <h3 class="text">Oops! No Results Found</h3>
    <svg class="icon" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"  xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="ðŸ”-Product-Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="ic_fluent_location_not_found_24_filled">
          <path d="M5.84301215,4.55890685 C9.24342264,1.15849636 14.7565774,1.15849636 18.1569879,4.55890685 C21.4893901,7.89130914 21.5560382,13.252791 18.356932,16.6663564 L18.1569879,16.8728826 C17.2419979,17.7878725 15.7116094,19.2826735 13.5641649,21.3589636 C12.6919186,22.2023085 11.3080914,22.2022001 10.4359799,21.3587188 L6.5863078,17.6101042 C6.30208268,17.3299283 6.0543257,17.0841961 5.84301215,16.8728826 C2.44260165,13.4724721 2.44260165,7.95931735 5.84301215,4.55890685 Z M15.0303301,7.68556462 L14.9462117,7.61294646 C14.6852237,7.41929806 14.3270092,7.41690733 14.0636206,7.6057743 L13.9696699,7.68556462 L12,9.6548947 L10.0303301,7.68556462 L9.94621165,7.61294646 C9.68522366,7.41929806 9.32700924,7.41690733 9.0636206,7.6057743 L8.96966991,7.68556462 L8.89705176,7.76968305 C8.70340335,8.03067105 8.70101263,8.38888546 8.8898796,8.65227411 L8.96966991,8.74622479 L10.939,10.7158947 L8.96966991,12.6855646 L8.89705176,12.7696831 C8.70340335,13.030671 8.70101263,13.3888855 8.8898796,13.6522741 L8.96966991,13.7462248 L9.05378835,13.8188429 C9.31477634,14.0124914 9.67299076,14.0148821 9.9363794,13.8260151 L10.0303301,13.7462248 L12,11.7768947 L13.9696699,13.7462248 L14.0537883,13.8188429 C14.3147763,14.0124914 14.6729908,14.0148821 14.9363794,13.8260151 L15.0303301,13.7462248 L15.1029482,13.6621064 C15.2965966,13.4011184 15.2989874,13.0429039 15.1101204,12.7795153 L15.0303301,12.6855646 L13.061,10.7158947 L15.0303301,8.74622479 L15.1029482,8.66210636 C15.2965966,8.40111836 15.2989874,8.04290395 15.1101204,7.7795153 L15.0303301,7.68556462 L14.9462117,7.61294646 L15.0303301,7.68556462 Z"></path>
        </g>
      </g>
    </svg>
  </div>
</ng-template>

  